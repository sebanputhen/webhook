<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Webhook - Deployed</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px; margin: 50px auto; padding: 20px; 
            background: #f8fafc; color: #334155;
        }
        .container { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        .status { padding: 16px; margin: 16px 0; border-radius: 8px; border-left: 4px solid; }
        .success { background: #f0f9ff; color: #0c4a6e; border-color: #0ea5e9; }
        .info { background: #f0fdf4; color: #14532d; border-color: #22c55e; }
        .warning { background: #fffbeb; color: #92400e; border-color: #f59e0b; }
        code { background: #f1f5f9; padding: 4px 8px; border-radius: 4px; font-family: 'Fira Code', monospace; }
        .url-box { background: #1e293b; color: #e2e8f0; padding: 12px; border-radius: 6px; font-family: monospace; }
        a { color: #0ea5e9; text-decoration: none; }
        a:hover { text-decoration: underline; }
        .test-links { display: grid; gap: 8px; margin: 16px 0; }
        .test-link { padding: 8px 12px; background: #f1f5f9; border-radius: 6px; display: block; }
        h1 { color: #1e293b; margin-bottom: 8px; }
        h2 { color: #475569; font-size: 18px; margin-top: 24px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ WhatsApp Webhook Deployed Successfully!</h1>
        
        <div class="status success">
            ‚úÖ Your WhatsApp webhook is live and running on Vercel with automatic HTTPS!
        </div>
        
        <h2>üìã Facebook Configuration</h2>
        <div class="status info">
            <p><strong>Callback URL:</strong></p>
            <div class="url-box" id="webhook-url">https://your-project.vercel.app/webhook</div>
            <br>
            <p><strong>Verify Token:</strong> <code>hello123</code></p>
        </div>
        
        <h2>üß™ Test Your Webhook</h2>
        <div class="test-links">
            <a href="/api/webhook.php" class="test-link" target="_blank">
                üìç Direct API endpoint
            </a>
            <a href="/webhook" class="test-link" target="_blank">
                üîó Pretty webhook URL
            </a>
            <a href="/test" class="test-link" target="_blank">
                ‚úÖ Manual verification test
            </a>
        </div>
        
        <h2>üìã Setup Instructions</h2>
        <ol>
            <li>Copy the <strong>Callback URL</strong> above</li>
            <li>Go to <a href="https://developers.facebook.com" target="_blank">Facebook Developer Console</a></li>
            <li>Navigate to <strong>WhatsApp ‚Üí Configuration ‚Üí Webhooks</strong></li>
            <li>Paste the callback URL and verify token</li>
            <li>Click <strong>"Verify and Save"</strong></li>
            <li>Send a test WhatsApp message to your business number</li>
        </ol>
        
        <div class="status warning">
            <strong>üìù Important:</strong> 
            <ul style="margin: 8px 0; padding-left: 20px;">
                <li>Check Vercel Function logs for debugging</li>
                <li>Webhook data will be logged for troubleshooting</li>
                <li>Test the manual verification link above first</li>
            </ul>
        </div>
        
        <h2>üîß Debugging</h2>
        <p>If Facebook verification fails:</p>
        <ul>
            <li>Test the <strong>manual verification</strong> link above</li>
            <li>Check Vercel Function logs in your dashboard</li>
            <li>Ensure the verify token matches exactly: <code>hello123</code></li>
            <li>Make sure webhook URL ends with <code>/webhook</code></li>
        </ul>
        
        <div class="status info">
            <p><strong>Repository:</strong> <a href="https://github.com/your-username/webhook" target="_blank">View on GitHub</a></p>
            <p><strong>Vercel Dashboard:</strong> <a href="https://vercel.com/dashboard" target="_blank">Manage Deployment</a></p>
        </div>
    </div>
    
    <script>
        // Update webhook URL with current domain
        const webhookUrl = window.location.origin + '/webhook';
        document.getElementById('webhook-url').textContent = webhookUrl;
        
        // Add copy functionality
        document.getElementById('webhook-url').addEventListener('click', function() {
            navigator.clipboard.writeText(webhookUrl).then(function() {
                alert('‚úÖ URL copied to clipboard!');
            });
        });
    </script>
</body>
</html>
